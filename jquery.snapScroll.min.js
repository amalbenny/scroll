!function(t,e,n){function i(t,e){this.elem=t,this.options=e}i.defaults=(i.prototype={defaults:{arrowKeys:!1,duration:600,easing:"swing",ordered:!0,scrollBar:!0,onLeave:function(t,e){},onArrive:function(t,e){}},scrolling:!1,init:function(){if(this.config=t.extend({},this.defaults,this.options),this.snapPoints=t(this.elem).find("[data-snap-point]"),!this.config.ordered){this.snapPoints.sort(function(e,n){var i=t(e).data("snapPoint"),o=t(n).data("snapPoint");return i<o?-1:i>o?1:0})}return this.config.scrollBar?t(this.elem).css("overflow-y","scroll"):t(this.elem).css("overflow-y","hidden"),this.enable(),this},scrollPrev:function(){var t=this.currentPoint();t>0&&this.scrollToPoint(t-1)},scrollNext:function(){var t=this.currentPoint();t<this.snapPoints.length-1&&this.scrollToPoint(t+1)},currentPoint:function(){var e=-1,n=t(this.elem).height()/2,i=1/0;return this.snapPoints.each(function(t){var o=this.getBoundingClientRect(),s=(o.top+o.bottom)/2,l=Math.abs(s-n);l<i&&(e=t,i=l)}),e},scrollToPoint:function(i,o){if(!this.scrolling){var s=this.currentPoint();if((o=t.extend({},this.config,o,this.config.onLeave(s,i))).cancel)return!1;this.scrolling=!0;var l=t(this.elem).height(),r=this.snapPoints[i].getBoundingClientRect(),c=(r.top+r.bottom)/2,h=l/2,a=t(this.elem).scrollTop()+(c-h),u=this.elem===e?n.scrollHeight:this.elem.scrollHeight;a=(a=a<h?0:a)>u-l?u-l:a;var f=this.elem===e?"html, body":this.elem,v=this;t(f).animate({scrollTop:a},o.duration,o.easing,function(){v.scrolling=!1,o.onArrive(s,i)})}},enable:function(){var n=this;t(this.elem).on("wheel mousewheel DOMMouseScroll",function(t){var e=t.originalEvent;(-e.deltaY||e.wheelDelta||-e.detail)>0?n.scrollPrev():n.scrollNext(),t.preventDefault()});var i,o;t(this.elem).on("touchstart",function(t){o=t.originalEvent.touches[0].clientY,i=o}),t(this.elem).on("touchmove",function(t){(o=t.originalEvent.touches[0].clientY)-i>0?n.scrollPrev():n.scrollNext(),i=o,t.preventDefault()}),this.config&&t(e).on("keydown",function(t){var e=t.which;38===e?n.scrollPrev():40===e&&n.scrollNext()})},disable:function(){t(this.elem).off("wheel mousewheel DOMMouseScroll"),t(this.elem).off("touchstart"),t(this.elem).off("touchmove"),t(e).off("keydown")}}).defaults,t.fn.snapScroll=function(t){return new i(this,t).init()},e.SnapScroll=i}(jQuery,window,document);
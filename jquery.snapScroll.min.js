function SnapScroll(e){var t=this;(e=$.extend({arrowKeys:!1,duration:600,easing:"swing",element:"html",ordered:!0,scrollBar:!0,onLeave:function(e,t){},onArrive:function(e,t){}},e)).scrollBar?$(e.element).css("overflow-y","scroll"):$(e.element).css("overflow-y","hidden");var n=$(e.element).find("[data-snap-point]");e.ordered||n.sort(function(e,t){var n=$(e).data("snapPoint"),o=$(t).data("snapPoint");return n<o?-1:n>o?1:0});var o=!1;this.scrollPrev=function(){var e=t.currentPoint();e>0&&t.scrollToPoint(e-1)},this.scrollNext=function(){var e=t.currentPoint();e<n.length-1&&t.scrollToPoint(e+1)},this.scrollToPoint=function(l){if(!o){o=!0;var r=t.currentPoint();e.onLeave(r,l);var i=$(e.element).height(),c=$(n[l]).get(0).getBoundingClientRect(),a=(c.top+c.bottom)/2,s=i/2,u=$(e.element).scrollTop()+(a-s),h=$(e.element).get(0).scrollHeight;u=(u=u<s?0:u)>h-i?h-i:u,$(e.element).animate({scrollTop:u},e.duration,e.easing,function(){o=!1,e.onArrive(r,l)})}},this.currentPoint=function(){var t=-1,o=$(e.element).height()/2,l=Math.pow(2,32)-1;return n.each(function(e){var n=$(this).get(0).getBoundingClientRect(),r=(n.top+n.bottom)/2,i=Math.abs(r-o);i<l&&(t=e,l=i)}),t},this.disable=function(){$(e.element).off("wheel mousewheel DOMMouseScroll"),$(e.element).off("touchstart"),$(e.element).off("touchmove"),$(window).off("keydown")},this.enable=function(){$(e.element).on("wheel mousewheel DOMMouseScroll",function(e){var n=e.originalEvent;(-n.deltaY||n.wheelDelta||-n.detail)>0?t.scrollPrev():t.scrollNext(),e.preventDefault()});var n,o;$(e.element).on("touchstart",function(e){o=e.originalEvent.touches[0].clientY,n=o,e.preventDefault()}),$(e.element).on("touchmove",function(e){(o=e.originalEvent.touches[0].clientY)-n>0?t.scrollPrev():t.scrollNext(),n=o,e.preventDefault()}),e.arrowKeys&&$(window).on("keydown",function(e){var n=e.which;38===n?t.scrollPrev():40===n&&t.scrollNext()})},this.enable()}
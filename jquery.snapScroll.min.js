function SnapScroll(e){var t=this;e=$.extend({arrowKeys:!1,duration:600,easing:"swing",element:"html",onLeave:function(e,t){},onArrive:function(e,t){}},e),$(e.element).css("overflow-y","scroll");var n=$(e.element).find("[data-snapPoint]"),o=!1;this.scrollPrev=function(){var e=t.currentPoint();e>0&&t.scrollToPoint(e-1)},this.scrollNext=function(){var e=t.currentPoint();e<n.length-1&&t.scrollToPoint(e+1)},this.scrollToPoint=function(l){if(!o){o=!0;var i=t.currentPoint();e.onLeave(i,l);var r=$(e.element).height(),c=$(n[l]).get(0).getBoundingClientRect(),a=(c.top+c.bottom)/2,s=r/2,u=$(e.element).scrollTop()+(a-s),h=$(e.element).get(0).scrollHeight;u=(u=u<s?0:u)>h-r?h-r:u,$(e.element).animate({scrollTop:u},e.duration,e.easing,function(){o=!1,e.onArrive(i,l)})}},this.currentPoint=function(){var t=-1,o=$(e.element).height()/2,l=Math.pow(2,32)-1;return n.each(function(e){var n=$(this).get(0).getBoundingClientRect(),i=(n.top+n.bottom)/2,r=Math.abs(i-o);r<l&&(t=e,l=r)}),t},this.disable=function(){$(e.element).off("wheel mousewheel DOMMouseScroll"),$(e.element).off("touchstart"),$(e.element).off("touchmove"),$(window).off("keydown")},this.enable=function(){$(e.element).on("wheel mousewheel DOMMouseScroll",function(e){var n=e.originalEvent;(-n.deltaY||n.wheelDelta||-n.detail)>0?t.scrollPrev():t.scrollNext(),e.preventDefault()});var n,o;$(e.element).on("touchstart",function(e){o=e.originalEvent.touches[0].clientY,n=o,e.preventDefault()}),$(e.element).on("touchmove",function(e){(o=e.originalEvent.touches[0].clientY)-n>0?t.scrollPrev():t.scrollNext(),n=o,e.preventDefault()}),e.arrowKeys&&$(window).on("keydown",function(e){var n=e.which;38===n?t.scrollPrev():40===n&&t.scrollNext()})},this.enable()}